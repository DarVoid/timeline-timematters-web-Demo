<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
      #drawer class="sidenav"
      [ngClass]="{hidden: (isHandset$ | async) === false}"
      fixedInViewport
      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
      [mode]="(isHandset$ | async) ? 'over' : 'side'"
      [opened]="(isHandset$ | async) === false">
    <mat-toolbar class="navSideTitle">narrArquivo</mat-toolbar>
    <mat-nav-list>
      <a mat-list-item class="mat-list-item" (click)='changePage("1")' href="/"> Início <span class="material-icons">home</span></a>
      <a mat-list-item class="mat-list-item" [matMenuTriggerFor]="menu1"> Narrativa  <i style="margin-left: 5px;" class="fas fa-book-open"> </i></a>
      <a mat-list-item class="mat-list-item" [matMenuTriggerFor]="menu2"> Sobre <mat-icon>keyboard_arrow_down</mat-icon></a>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>


    <header class="header--standard">
      <mat-toolbar color="primary">
        <button
          type="button"
          aria-label="Toggle sidenav"
          mat-icon-button
          (click)="drawer.toggle()"
          *ngIf="isHandset$ | async">
          <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
        </button>

          <!--<img class="ceninha" src="assets\logo.png" />-->
        <div class="spacer"></div><div [ngClass]="{hidden: (isHandset$ | async) === true}">
        <a href="/" (click)='changePage("1")'><button mat-button> Início <i class="fas fa-home"></i></button></a>
        <a><button mat-button [matMenuTriggerFor]="menu1" ngbDropdownToggle> Narrativa <i class="fas fa-book-open"></i></button></a>
        <a><button mat-button [matMenuTriggerFor]="menu2" ngbDropdownToggle> Sobre <i class="fas fa-chevron-down"></i></button></a>
      </div>
          </mat-toolbar>
    </header>

    <mat-menu #menu1="matMenu">
      <button mat-menu-item  (click)='changePage("1")'>URL <i class="fas fa-globe"></i>   </button>
      <div class="divider"></div>
      <button mat-menu-item  (click)='changePage("2")'>Texto livre <i class="fas fa-square"></i> </button>
      <!--<div class="divider"></div>-->
      <!--<button mat-menu-item  (click)='changePage("6")'>Search Arquivo.pt <i class="fas fa-search"></i> </button>-->
    </mat-menu>

    <mat-menu #menu2="matMenu" ngbDropdownMenu>
      <button mat-menu-item class="mat-menu-item" (click)='changePage("4")' ngbDropdownItem>Equipa <i class="fas fa-user-circle"></i></button>
      <div class="divider"></div>
      <button mat-menu-item class="mat-menu-item" (click)='changePage("5")' ngbDropdownItem> Artigos Científicos <i class="fas fa-book-open"></i></button>
      <div class="divider"></div>
      <a target="_blank" href="https://github.com/liaad/time-matters"><button mat-menu-item class="mat-menu-item">
        GitHub <i class="fab fa-github" aria-hidden="true"></i>
      </button></a>


    </mat-menu>



    <section class="NavSection">
      <div class="layout">
        <div class="layout-row">
          <div class="layout-col">
            <div>
              <br>
                <!--<br>
                <div style="display: flex; justify-content: center;" *ngIf='page=="1" && !requestMade' >

                  <mat-card class="example-almost-width" style="display: flex; justify-content: center;">
                    <mat-form-field  class="example-full-width">

                      <mat-label>Criar narrativa a partir de URL</mat-label>
                      <input [disabled]="loading" #URLst (change)="setURLNonDef($event)"  value="{{url}}" matInput >
                      <mat-hint></mat-hint>
                    </mat-form-field>
                    <div  class="form-group">
                      <form (submit)="setURLToBox($event)">
                        <div class="col-lg8 " style="z-index: 10;margin-top:0px ;">

                          <button mat-fab class="btn btn-primary"  type="submit" [disabled]="loading" >


                            <div class='{{!loading?"viewable": "nonviewable"}}'  > <i class="fas fa-book-open"></i></div>
                            <div class='{{loading?"viewable": "nonviewable"}}'><span  class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                              </div>
                          </button>
                        </div>
                      </form>
                    </div>
                  </mat-card>

                  <br>
                </div>
              <h1 class="miniText2"></h1><br>
              <br>-->
            </div>
          </div>
        </div>
      </div>
    </section>


    <div *ngIf='page=="0" else pagina1'>
      <app-exctraction></app-exctraction>

    </div>
    <ng-template #pagina1>
      <div *ngIf='page=="1" else pagina2'>
        <app-querysingledoc [inpu]="url" (requestMake)="handleRequest($event)"  (queryValue)="handleValueQuery($event)" (loaded)="handleLoaded($event)" ></app-querysingledoc>


      </div>
      <ng-template #pagina2>
        <div *ngIf='page=="2" else pagina3'>
          <app-exctraction></app-exctraction>
        </div>
        <ng-template #pagina3>
          <div *ngIf='page=="3" else pagina4'>
            <app-query></app-query>
          </div>
          <ng-template #pagina4>
            <div *ngIf='page=="4" else pagina5'>
             <app-about-people></app-about-people>
            </div>
            <ng-template #pagina5>
              <div *ngIf='page=="5" else pagina6'>
                <app-about-related-work></app-about-related-work>
              </div>
              <ng-template #pagina6>
                <div *ngIf='page=="7" else pagina7'>
                  <app-about-acknowledgements></app-about-acknowledgements>
                </div>

                <ng-template #pagina7>
                  <div *ngIf='page=="6"'>
                    <!--<app-arquivo></app-arquivo>-->
                  </div>
                </ng-template>

              </ng-template>

            </ng-template>

          </ng-template>
        </ng-template>
      </ng-template>
    </ng-template>
  </mat-sidenav-content>
</mat-sidenav-container>





