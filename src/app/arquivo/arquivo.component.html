<div *ngIf="resultado else query">
  <button *ngIf="!selected" (click)="next()">next {{maxItems}}</button>
  <app-tratar-arquivo (selected)='setSelected($event)' [dados]="resultado"></app-tratar-arquivo>
  <button *ngIf="!selected" (click)="next()">next {{maxItems}}</button>
  <div class="col-lg-12 text-right">
    <br>
    <button type="reset" (click)="goBack()" class="btn btn-link">Go back</button>
    <button *ngIf="resultado && !selected" color="primary"  type="submit" (click)="copyToClipboard(resultado)" class="btn btn-primary"><i class="far fa-clipboard"></i> Copy JSON Object to Clipboard</button>
  </div>
</div>
<ng-template #query>
  <form class="example-form" (submit)="submitQuery($event)">
    <div class="col-md-11 col-sm-8 col-xs-6 my-col">
      <h2>Search on Arquivo.pt</h2>
      <div class="col-lg-12">
        <div class="form-group">
          <mat-card>
            <mat-form-field class="example-full-width">
              <div *ngIf="loading">
                <mat-progress-bar mode="indeterminate" ></mat-progress-bar>
              </div>
              <mat-label>Query:</mat-label>
              <input matInput (change)="setQuery($event)" placeholder="Elon Musk" value="Elon Musk">
            </mat-form-field>

            <mat-form-field class="example-full-width">
              <mat-label>Site Search:</mat-label>
              <input matInput (change)="setSiteSearch($event)" placeholder="...insert site where you want to search" value="http://www.publico.pt">
            </mat-form-field>


          </mat-card>
        </div>

        <div class="form-group">
          <div class="col-lg12 text-right">
            <button class="btn btn-primary" type="submit" [disabled]="loading" >
              <div class='{{!loading?"viewable": "nonviewable"}}' ><i class="fas fa-search" ></i>
                {{loading?'Loading...':'Search Arquivo.pt'}}</div>
              <div class='{{loading?"viewable": "nonviewable"}}'><span  class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                {{loading?'Loading...':'Lets do it!'}}</div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</ng-template>
